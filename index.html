<html>
<head>
    <meta charset="utf-8">
    <title>Weather</title>
    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="resc/css/ionic.css">
    <link rel="stylesheet" href="resc/spinner/waitMe.min.css">
    <script type="text/javascript" src="resc/js/jquery.min.js"></script>
    <script type="text/javascript" src="resc/spinner/waitMe.min.js"></script>
    <script src="phonegap.js" type="text/javascript"></script>
    <script type="text/javascript">


        var pictureSource; // picture source
        var destinationType; // sets the format of returned value
        var pageNumber = 1;

        document.addEventListener("deviceready", onDeviceReady, false);


        function onDeviceReady() {

            //            $(".ionic-body").waitMe({
            //                effect: 'ios',
            //                text: 'Please wait',
            //                bg: 'rgba(255,255,255,0.7)',
            //                color: '#000'
            //            });

            pictureSource = navigator.camera.PictureSourceType;
            destinationType = navigator.camera.DestinationType;
        }

        function onCaptureClick() {
            navigator.camera.getPicture(
            function (imageData) {

                var imageHtml = '<div class="item" id="itemNo' + pageNumber + '">';
                imageHtml += '<h2>Documents Page - ' + pageNumber + '</h2></div>';
                imageHtml += '<div class="item item-image">';
                imageHtml += '<img src="' + imageData + '" alt="document image" style="padding:10px;"/>';
                imageHtml += '</div>';
                imageHtml += '<a class="item item-icon-left assertive" href="#" onclick="removeDoc(' + pageNumber + ');"><i class="icon ion-remove"></i>Remove Page - ' + pageNumber + '</a>';
                $("#imageCards").append(imageHtml);

                pageNumber = pageNumber + 1;

            },
            function (message) {
                showMessage('Failed because: ' + message);
            },
            {
                quality: 50
            });

            return false;
        }

        function removeDoc(elem) {
            $("#itemNo" + elem).remove();
            return false;
        }

        function showMessage(error) {
            navigator.notification.alert(
                            error,
                            function () { },
                            'AMC Documents',
                            'Ok'
                        );
        }
    </script>
</head>
<body>
    <div class="ionic-body">
        <div class="bar bar-header bar-positive">
            <a class="button icon ion-home" href="index.html"></a>
            <h1 class="title">
                &nbsp;&nbsp;AMC Documents</h1>
            <a class="button icon ion-help" href="help.html"></a>
        </div>
        <div class="content has-header has-footer padding" style="overflow: scroll; height: 100%;"
            id="container">
            <div id="dvDealers" style="width: 100%;">
                <div class="list">
                    <label class="item">
                        <b>Dealers Bill Information</b>
                    </label>
                    <label class="item item-input icon ion-android-social-user">
                        &nbsp;&nbsp;
                        <input type="text" id="txtDealer" placeholder="Please enter dealer name">
                    </label>
                    <label class="item item-input icon ion-android-calendar">
                        &nbsp;&nbsp;
                        <input type="date" id="txtBillDate" placeholder="Please select bill date">
                    </label>
                    <label class="item item-input icon ion-pricetag">
                        &nbsp;&nbsp;
                        <input type="number" id="txtAmount" placeholder="Please select bill amount">
                    </label>
                    <label class="item item-button">
                        <a id="btnCapture" class="button button-full button-energized icon icon-left ion-ios7-camera"
                            onclick="onCaptureClick();">Capture Bill Page</a>
                    </label>
                </div>
            </div>
            <div class="list card" id="imageCards" style="margin:0;padding:0;">

            </div>
            <br />
            <br />
            <br />
        </div>
        <div class="tabs tabs-positive tabs-icon-top">
            <a class="tab-item" href="index.html"><i class="icon ion-home" style="font-size: 25px;">
            </i>Home</a> <a class="tab-item" href="#"><i class="icon ion-ios7-information" style="font-size: 25px;">
            </i>Add Document</a> <a class="tab-item" href="#"><i class="icon ion-ios7-bookmarks"
                style="font-size: 25px;"></i>View Documents</a>
        </div>
    </div>
</body>
</html>
