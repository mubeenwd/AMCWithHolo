<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Document Management Systems</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
    <link href="css/styles.css" rel="stylesheet">
    <script src="phonegap.js" type="text/javascript"></script>
</head>
<body>
    <div class="page-container">
        <!-- top navbar -->
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    	<div class="navbar-header">
           <button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".sidebar-nav">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
           </button>
           <a class="navbar-brand" href="#">AMC Document Manager</a>
    	</div>
    </nav>
        <div class="container-fluid" style="height: 100%;">
            <div class="row row-offcanvas row-offcanvas-left">
                <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
                    <div data-spy="affix" data-offset-top="45" data-offset-bottom="90">
                        <ul class="nav" id="sidebar-nav">
                            <li><a href="index.html">AMC Doc Manager</a></li>
                            <li><a href="viewDocs.html">Document List</a></li>
                            <li><a href="index.html">Add New Document</a></li>
                            <li><a href="index.html">Settings</a></li>
                        </ul>
                    </div>
                </div>
                <br />
                <div class="col-xs-12 col-sm-9" data-spy="scroll" data-target="#sidebar-nav">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="well">
                                <div class="form-horizontal" role="form">
                                    <h4>
                                        Step 1- Add Dealers Bill Details</h4>
                                    <div class="form-group" style="padding: 10px,14px,10px, 14px;">
                                        <input type="text" class="form-control" id="txtDealersName" placeholder="Enter dealer's name here." />
                                    </div>
                                    <div class="form-group" style="padding: 10px,14px,10px, 14px;">
                                        <input type="number" class="form-control" id="txtBillingAmt" placeholder="Enter bill chased amount here." />
                                    </div>
                                    <div class="form-group" style="padding: 10px,14px,10px, 14px;">
                                        <label>
                                            select date</label>
                                        <select id="ddlDay" style="color:Black;">
                                        <option value="-1" selected="selected">Date</option>
                                        </select>
                                        <select id="ddlMonth" style="color:Black;">
                                        <option value="-1" selected="selected">Month</option>
                                        </select>
                                        <select id="ddlYear" style="color:Black;">
                                        <option value="-1"  selected="selected">year</option>
                                        </select>
                                    </div>
                                    <button class="btn btn-info pull-right" type="button" onclick="onNextClick();">
                                        Goto Step 2 - Capture Docs</button><br />
                                </div>
                            </div>
                            <div class="well" id="errorWell">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/html5sql.js"></script>
        <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"></script>
        <script type="text/javascript" src="js/scripts.js"></script>
        <script type="text/javascript">

            $(function () {

                for (var i = 1; i <= 31; i++) {

                    if (i < 10) {
                        $("#ddlDay").append("<option value=\"0" + i + "\">0" + i + "</option>");
                    }
                    else {
                        $("#ddlDay").append("<option value=\"0" + i + "\">" + i + "</option>");
                    }
                }

                for (var i = 1; i <= 12; i++) {
                    if (i < 10) {
                        $("#ddlMonth").append("<option value=\"0" + i + "\">0" + i + "</option>");
                    }
                    else {
                        $("#ddlMonth").append("<option value=\"0" + i + "\">" + i + "</option>");
                    }
                }

                for (var i = 1; i <= 10; i++) {
                    var j = (i + 2010);
                    $("#ddlYear").append("<option value=\"" + j + "\">" + j + "</option>");
                }
            });

            document.addEventListener("deviceready", onDeviceReady, false);

            function onDeviceReady() {
                try {
                    html5sql.openDatabase("com.amc.documents.amcdocman", "Aurangabad Municiple Corporation Documents.", 5 * 1024 * 1024);

                    html5sql.process(
                   [
                    "CREATE TABLE IF NOT EXISTS DealersEnteries (EnteryId INTEGER PRIMARY KEY AUTOINCREMENT, EnteryName, CreationDate,BillingDate,BillingAmt);",
                    "CREATE TABLE IF NOT EXISTS DealersDocs (DocId INTEGER PRIMARY KEY AUTOINCREMENT, EnteryId , DocTitle, DocName, CreationDate);"
                   ],
                   function () {
                       $("#errorWell").html('<p style="color:green;">Application is ready!!</p>');
                   },
                   function () {
                       $("#errorWell").html('<p style="color:red;">PopulateDatabase: db creation error<p>');
                   });
                } catch (e) {
                    $("#errorWell").html('<p style="color:red;">PopulateDatabase;Error: ' + e);
                }
            }

            function onNextClick() {
                if (($("#ddlDay").val() > 0) && ($("#ddlMonth").val() > 0) && ($("#ddlYear").val() > 0)) {
                    var dateSelected = $("#ddlDay").val() + "/" + $("#ddlMonth").val() + "/" + $("#ddlYear").val();
                    location = "addDoc.html?DealersName=" + $("#txtDealersName").val() + "&BillingAmt=" + $("#txtBillingAmt").val() + "&BillingDate=" + dateSelected;
                }
                else {
                    alert('Please select date');
                }
            }
        </script>
</body>
</html>
